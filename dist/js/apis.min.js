var getStreetViewImage=function(e){var n="size=200x100&location="+e.location.lat+", "+e.location.lng,i="http://maps.googleapis.com/maps/api/streetview?"+n;return i},setMarkerOptions=function(e,n,i){var o="<p>"+n.name+"</p>",a=new google.maps.InfoWindow({content:o,size:new google.maps.Size(100,50),maxWidth:200,maxHeight:100}),t="https://maps.google.com/mapfiles/kml/pushpin/",r=new google.maps.Marker({position:i,map:map,title:n.name,icon:t+"red-pushpin.png"});return n.marker=r,n.infowindow=a,n.marker.setAnimation(null),n.show=function(){google.maps.event.trigger(n.marker,"click")},n.toggleColor=function(){var i="red-pushpin.png",o="ylw-pushpin.png";n.marker.icon=n.marker.icon!==e.iconBase+o?e.iconBase+o:n.marker=e.iconBase+i},n.toggleBounce=function(){null!==n.marker.getAnimation()?n.marker.setAnimation(null):(e.listView().forEach(function(e){e.marker.setAnimation(null),e.infowindow.close()}),n.infowindow.open(map,n.marker),n.marker.setAnimation(google.maps.Animation.BOUNCE))},google.maps.event.addListener(n.marker,"click",function(){e.resetIcons(),n.toggleColor(),n.toggleBounce(),e.selectedVenue(n),map.setCenter(map.setCenter(n.marker.getPosition()))}),n},wikiAjaxCall=function(e){Offline.check();var n="http://en.wikipedia.org/w/api.php?action=opensearch&search="+e.name+"&format=json&callback=wikiCallback",i=[],o=setTimeout(function(){console.log("Failed to get wikipedia links")},8e3);$.ajax({url:n,dataType:"jsonp",success:function(n){for(var a=n[1],t=0;t<a.length;t++){var r=a[t],s="http://en.wikipedia.org/wiki/"+r;i.push('<a href="'+s+'">'+r+"</a>")}e.wikiList(i),clearTimeout(o)}})};